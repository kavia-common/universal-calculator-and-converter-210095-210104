{"is_source_file": true, "format": "JavaScript", "description": "This file defines a CalculatorService that manages calculator operations including inputting digits, decimal points, operators, toggling sign, clearing input, backspace, and computing results with validation. It maintains internal state and provides functions for each calculation step, referencing external validation utilities and constants.", "external_files": ["./ValidationService", "../utils/constants", "../utils/errorUtils"], "external_methods": ["ValidationService.validateArithmetic", "createValidationError"], "published": ["CalculatorService"], "classes": [], "methods": [{"name": "createInitialState()", "description": "Returns a fresh initial state object for the calculator.", "scope": "", "scopeKind": ""}, {"name": "inputDigit(state, digit)", "description": "Appends a digit to the current active operand, updating display and expression accordingly.", "scope": "", "scopeKind": ""}, {"name": "inputDecimal(state)", "description": "Adds a decimal point to the active operand if not already present.", "scope": "", "scopeKind": ""}, {"name": "setOperator(state, opInput)", "description": "Sets or changes the current operator, supporting chaining by intermediate evaluation.", "scope": "", "scopeKind": ""}, {"name": "toggleSign(state)", "description": "Toggles the sign (+/-) of the active operand.", "scope": "", "scopeKind": ""}, {"name": "clearAll(_state)", "description": "Resets the calculator to its initial state.", "scope": "", "scopeKind": ""}, {"name": "clearLast(state)", "description": "Removes the last character from the active operand.", "scope": "", "scopeKind": ""}, {"name": "equals(state)", "description": "Performs the calculation based on current operands and operator, returns calculation result or error.", "scope": "", "scopeKind": ""}, {"name": "canCompute(state)", "description": "Determines whether sufficient data is available to perform a calculation.", "scope": "", "scopeKind": ""}, {"name": "getOperatorSymbol(op)", "description": "Returns the display symbol for a given operator key.", "scope": "", "scopeKind": ""}, {"name": "normalizeOperator(input)", "description": "Converts various operator inputs into standardized operator keys.", "scope": "", "scopeKind": ""}, {"name": "buildExpression(state)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getActiveOperandKey(state)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "normalizeEnteredString(s)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "parseOperandString(s)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "toSymbol(op)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["ValidationService.validateArithmetic", "createValidationError"], "search-terms": ["CalculatorService", "Input handling", "Operator mapping", "Validation", "State management", "Arithmetic validation", "Expression building", "Sign toggle", "Clear functions", "Equals computation"], "state": 2, "file_id": 35, "knowledge_revision": 83, "git_revision": "", "ctags": [{"_type": "tag", "name": "a", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^    a: resultStr,$/", "language": "JavaScript", "kind": "property", "scope": "equals.newState", "scopeKind": "class"}, {"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^    b: \"\",$/", "language": "JavaScript", "kind": "property", "scope": "equals.newState", "scopeKind": "class"}, {"_type": "tag", "name": "buildExpression", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^function buildExpression(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "canCompute", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function canCompute(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "clearAll", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function clearAll(_state) {$/", "language": "JavaScript", "kind": "function", "signature": "(_state)"}, {"_type": "tag", "name": "clearLast", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function clearLast(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "createInitialState", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function createInitialState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "display", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^    display: resultStr,$/", "language": "JavaScript", "kind": "property", "scope": "equals.newState", "scopeKind": "class"}, {"_type": "tag", "name": "equals", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function equals(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^    error: null,$/", "language": "JavaScript", "kind": "property", "scope": "equals.newState", "scopeKind": "class"}, {"_type": "tag", "name": "expression", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^    expression: String(resultStr),$/", "language": "JavaScript", "kind": "property", "scope": "equals.newState", "scopeKind": "class"}, {"_type": "tag", "name": "getActiveOperandKey", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^function getActiveOperandKey(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "getOperatorSymbol", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function getOperatorSymbol(op) {$/", "language": "JavaScript", "kind": "function", "signature": "(op)"}, {"_type": "tag", "name": "inputDecimal", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function inputDecimal(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "inputDigit", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function inputDigit(state, digit) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, digit)"}, {"_type": "tag", "name": "lastAction", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^    lastAction: \"equals\",$/", "language": "JavaScript", "kind": "property", "scope": "equals.newState", "scopeKind": "class"}, {"_type": "tag", "name": "newState", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^  const newState = {$/", "language": "JavaScript", "kind": "class", "scope": "equals", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeEnteredString", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^function normalizeEnteredString(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "normalizeOperator", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function normalizeOperator(input) {$/", "language": "JavaScript", "kind": "function", "signature": "(input)"}, {"_type": "tag", "name": "op", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^    op: null,$/", "language": "JavaScript", "kind": "property", "scope": "equals.newState", "scopeKind": "class"}, {"_type": "tag", "name": "parseOperandString", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^function parseOperandString(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "setOperator", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function setOperator(state, opInput) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, opInput)"}, {"_type": "tag", "name": "toSymbol", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^function toSymbol(op) {$/", "language": "JavaScript", "kind": "function", "signature": "(op)"}, {"_type": "tag", "name": "toggleSign", "path": "/home/kavia/workspace/code-generation/universal-calculator-and-converter-210095-210104/calculator_frontend/src/services/CalculatorService.js", "pattern": "/^export function toggleSign(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}], "hash": "d43e041b7df06f75d0c8e188bec34406", "format-version": 4, "code-base-name": "calculator_frontend", "filename": "calculator_frontend/src/services/CalculatorService.js", "fields": [{"name": "a: resultStr,", "scope": "equals.newState", "scopeKind": "class", "description": "unavailable"}, {"name": "b: \"\",", "scope": "equals.newState", "scopeKind": "class", "description": "unavailable"}, {"name": "display: resultStr,", "scope": "equals.newState", "scopeKind": "class", "description": "unavailable"}, {"name": "error: null,", "scope": "equals.newState", "scopeKind": "class", "description": "unavailable"}, {"name": "expression: String(resultStr),", "scope": "equals.newState", "scopeKind": "class", "description": "unavailable"}, {"name": "lastAction: \"equals\",", "scope": "equals.newState", "scopeKind": "class", "description": "unavailable"}, {"name": "op: null,", "scope": "equals.newState", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"83": ""}]}